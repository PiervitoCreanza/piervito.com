---
import "@/styles/globals.css";
import { ModeToggle } from "@/components/ModeToggle";
import Footer from "@/components/Footer.astro";

import cv from "../assets/data/cv.json";
import TimelineSection from "@/components/TimelineSection.astro";
import Hero from "@/components/Hero.astro";
import ProjectsSection from "@/components/ProjectsSection.astro";
import Honors from "@/components/Honors.astro";
import BaseLayout from "@/layouts/BaseLayout.astro";
---

<BaseLayout lang="en">
  <Hero
    title={cv.hero.title}
    badge={cv.hero.badge}
    description={cv.hero.description}
    badge={cv.hero.badge}
    cvPath={cv.hero.cvPath}
  />
  {
    cv.sections.map((data) => {
      switch (data.type) {
        case "timeline":
          return <TimelineSection data={data} />;
      }
    })
  }
  <ProjectsSection data={cv.projects} />
  <TimelineSection data={cv.workExperience} />
  <Honors data={cv.honors} />

  <slot name="scripts">
    <script is:inline src="/vivus.min.js"></script>

    <script is:inline>
      function easeOutSine(x) {
        return Math.sin((x * Math.PI) / 2);
      }

      new Vivus("profile-decoration", {
        duration: 150,
        pathTimingFunction: easeOutSine,
      });

      new Vivus("book-open-01", {
        duration: 200,
        animTimingFunction: easeOutSine,
      });

      new Vivus("archive", {
        duration: 100,
        pathTimingFunction: easeOutSine,
      });

      new Vivus("briefcase-02", {
        duration: 100,
        pathTimingFunction: easeOutSine,
      });

      new Vivus("award-03", {
        duration: 100,
        pathTimingFunction: easeOutSine,
      });
    </script>
  </slot>
</BaseLayout>
